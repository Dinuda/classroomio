{"version":3,"file":"index.js","sources":["../../src/index.ts"],"sourcesContent":["import {\n  sentryUnpluginFactory,\n  Options,\n  createRollupReleaseInjectionHooks,\n  createRollupDebugIdInjectionHooks,\n  createRollupDebugIdUploadHooks,\n} from \"@sentry/bundler-plugin-core\";\nimport { UnpluginOptions } from \"unplugin\";\n\nfunction viteReleaseInjectionPlugin(injectionCode: string): UnpluginOptions {\n  return {\n    name: \"sentry-vite-release-injection-plugin\",\n    enforce: \"pre\" as const, // need this so that vite runs the resolveId hook\n    vite: createRollupReleaseInjectionHooks(injectionCode),\n  };\n}\n\nfunction viteDebugIdInjectionPlugin(): UnpluginOptions {\n  return {\n    name: \"sentry-vite-debug-id-injection-plugin\",\n    vite: createRollupDebugIdInjectionHooks(),\n  };\n}\n\nfunction viteDebugIdUploadPlugin(\n  upload: (buildArtifacts: string[]) => Promise<void>\n): UnpluginOptions {\n  return {\n    name: \"sentry-vite-debug-id-upload-plugin\",\n    vite: createRollupDebugIdUploadHooks(upload),\n  };\n}\n\nconst sentryUnplugin = sentryUnpluginFactory({\n  releaseInjectionPlugin: viteReleaseInjectionPlugin,\n  debugIdInjectionPlugin: viteDebugIdInjectionPlugin,\n  debugIdUploadPlugin: viteDebugIdUploadPlugin,\n});\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const sentryVitePlugin: (options: Options) => any = sentryUnplugin.vite;\n\nexport type { Options as SentryVitePluginOptions } from \"@sentry/bundler-plugin-core\";\nexport { sentryCliBinaryExists } from \"@sentry/bundler-plugin-core\";\n"],"names":["viteReleaseInjectionPlugin","injectionCode","name","enforce","vite","createRollupReleaseInjectionHooks","viteDebugIdInjectionPlugin","createRollupDebugIdInjectionHooks","viteDebugIdUploadPlugin","upload","createRollupDebugIdUploadHooks","sentryUnplugin","sentryUnpluginFactory","releaseInjectionPlugin","debugIdInjectionPlugin","debugIdUploadPlugin","sentryVitePlugin"],"mappings":";;;;;;AASA,SAASA,0BAA0BA,CAACC,aAAqB,EAAmB;EAC1E,OAAO;AACLC,IAAAA,IAAI,EAAE,sCAAsC;AAC5CC,IAAAA,OAAO,EAAE,KAAc;AAAE;IACzBC,IAAI,EAAEC,mDAAiC,CAACJ,aAAa,CAAA;GACtD,CAAA;AACH,CAAA;AAEA,SAASK,0BAA0BA,GAAoB;EACrD,OAAO;AACLJ,IAAAA,IAAI,EAAE,uCAAuC;IAC7CE,IAAI,EAAEG,mDAAiC,EAAC;GACzC,CAAA;AACH,CAAA;AAEA,SAASC,uBAAuBA,CAC9BC,MAAmD,EAClC;EACjB,OAAO;AACLP,IAAAA,IAAI,EAAE,oCAAoC;IAC1CE,IAAI,EAAEM,gDAA8B,CAACD,MAAM,CAAA;GAC5C,CAAA;AACH,CAAA;AAEA,IAAME,cAAc,GAAGC,uCAAqB,CAAC;AAC3CC,EAAAA,sBAAsB,EAAEb,0BAA0B;AAClDc,EAAAA,sBAAsB,EAAER,0BAA0B;AAClDS,EAAAA,mBAAmB,EAAEP,uBAAAA;AACvB,CAAC,CAAC,CAAA;;AAEF;AACaQ,IAAAA,gBAA2C,GAAGL,cAAc,CAACP;;;;;;;;"}